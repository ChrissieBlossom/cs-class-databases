<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Databases</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">      
</head>
<body>
    <header>
        <h1>Databases</h1>
    </header>
    <nav>
        <a href="#overview">What are databases</a>
        <a href="#keys">Keys</a>
        <a href="#referential">Referential Integrity</a>
        <a href="#normalisation">Normalisation</a>
    </nav>
    <section id="overview">
        <h2>What are databases?</h2>
        <p>A database is a structured system that stores and retrieves data. It organizes information in tables, making it easy to search, update, and manage. Databases are important for applications that require consistent and reliable data handling, such as websites and business systems.</p>
        <img src="images/drawers.png">
    </section>
    <section id="keys">
        <h2>Keys</h2>
        <p>In a database, there are multiple types of keys that serve different purposes: </p>
        <h3>Primary Key</h3>
        <p>A primary key is a unique identifier for each record in a table, and it cannot be null. Every record requires a primary key, as it is what is used to refer to each record</p>
        <table>
            <p><em>TblStudent</em></p>
            <tr>
                <th>ðŸ”‘ StudentID</th>
                <th>Name</th>
            </tr>
            <tr>
                <td>100</td>
                <td>Bob</td>
            </tr><tr>
                <td>101</td>
                <td>Joe</td>
            </tr><tr>
                <td>102</td>
                <td>Bob</td>
            </tr><tr>
                <td>103</td>
                <td>Sam</td>
            </tr><tr>
                <td>104</td>
                <td>Mia</td>
            </tr>
        </table>
        <p>In the above table, <em>Student ID</em> is the primary key (denoted by ðŸ”‘), as it a unqique identifier for a student</p>

        <h3>Secondary Key</h3>
        <p>A secondary key is an alternative identifier for records in a table. They remain unique like primary keys, and are often used for easier searching of the database using <a href="https://en.wikipedia.org/wiki/SQL">SQL (Structured Query Language)</a> or other query languages.</p>
        <table>
        <p><em>TblStudent</em></p>
            <tr>
                <th>ðŸ”‘ StudentID</th>
                <th>Email</th>
                <th>Name</th>
            </tr>
            <tr>
                <td>100</td>
                <td>bobisthebest@gmail.com</td>
                <td>Bob</td>
            </tr><tr>
                <td>101</td>
                <td>joe.smith@icloud.com</td>
                <td>Joe</td>
            </tr><tr>
                <td>102</td>
                <td>kittenlover76@gmail.com</td>
                <td>Bob</td>
            </tr><tr>
                <td>103</td>
                <td>samraine2007@gmail.com</td>
                <td>Sam</td>
            </tr><tr>
                <td>104</td>
                <td>lumityisbest@gmail.com</td>
                <td>Mia</td>
            </tr>
        </table>
        <p>This is the same table as before but now with a new <em>Email</em> field. This would be an example of a secondary key - it is unique to each student but is more searchable than a student ID number for instance.</p>
        <h3>Foreign Keys and Composite Keys</h3>
        <p>Foreign keys are fields in a table that are a primary key in another table, linking the tables. This allows data to stay consistent across tables. These foreign keys can make up part of a primary key, called a composite key.</p>
        <table>
            <p><em>TblStudent</em></p>
            <tr>
                <th>ðŸ”‘ StudentID</th>
                <th>Name</th>
            </tr>
            <tr>
                <td>100</td>
                <td>Bob</td>
            </tr><tr>
                <td>101</td>
                <td>Joe</td>
            </tr><tr>
                <td>102</td>
                <td>Bob</td>
            </tr><tr>
                <td>103</td>
                <td>Sam</td>
            </tr><tr>
                <td>104</td>
                <td>Mia</td>
            </tr>
        </table>

        <table>
            <p><em>TblCourses</em></p>
            <tr>
                <th>ðŸ”‘ CourseID</th>
                <th>ðŸ”‘ <em>StudentID<em></em></th>
                <th>DateEnrolled</th>
            </tr>
            <tr>
                <td>MAT01</td>
                <td>100</td>
                <td>10/10/2023</td>
            </tr><tr>
                <td>MAT01</td>
                <td>102</td>
                <td>03/09/2024</td>
            </tr><tr>
                <td>COMP01</td>
                <td>100</td>
                <td>03/09/2023</td>
            </tr><tr>
                <td>ENG02</td>
                <td>103</td>
                <td>03/09/2023</td>
            </tr><tr>
                <td>PHY01</td>
                <td>102</td>
                <td>11/02/2024</td>
            </tr>
            <tr>
                <td>COMP01</td>
                <td>103</td>
                <td>03/09/2024</td>
            </tr><tr>
                <td>MAT01</td>
                <td>103</td>
                <td>03/09/2023</td>
        </table>
        <p>There is now a new table containing courses that students are enrolled in. In this table <em>StudentID</em> is a foreign key, making up part of a composite key with <em>CourseID</em>.</p>
    </section>
    <section id="referential">
        <h2>Referential Integrity</h2>
        <p>Referential integrity ensures that relationships between table remain consistent be making sure that a foreign key always refers to an existing primary key in another table.</p>

        <iframe src="https://www.youtube.com/embed/5hFPoBWCdQA" title="SQL Server 12 - Referential Integrity" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        
    </section>
    <section id="normalisation">
        <h2>Normalisation</h2>
        <p>Normalisation in databases eliminates redundancy to prevent errors in data. It also can reduce the storage space of a database. It also allows for easier seaches and queries, due to fields being more seperate.</p>
        <p>To normalise a database you can remember these three steps:
            <ol>
                <li>The key</li>
                <li>The whole key</li>
                <li>Nothing but the Key</li>
            </ol>
        </p>

        <h3>1st Normal Form (1nf)</h3>
        <p>In 1nf, the following needs to be true:
            <ul>
                <li>Data is atomised - data is in the smallest parts (eg first name and last name)</li>
                <li>Each record has a primary key</li>
                <li>No duplicate records</li>
                <li>Attributes shouldn't repeat</li>
            </ul>
            To normalise a table to 1nf, move repeating data into another table, select a primary key, and copy that primary key back into the table as a foreign key.</p>

            <table>
                <p><em>TblCustomers</em></p>
                <tr>
                    <th>Name</th>
                    <th>Phone</th>
                    <th>Country</th>
                </tr>
                <tr>
                    <td>John Smith</td>
                    <td>07982658264</td>
                    <td>United Kindom</td>
                </tr>
                <tr>
                    <td>Riley Brown</td>
                    <td>07473957294</td>
                    <td>UK</td>
                </tr>
                <tr>
                    <td>Alex Jones</td>
                    <td>07209200985</td>
                    <td>England</td>
                </tr>
                <tr>
                    <td>Isobel Johnson</td>
                    <td>07218352232</td>
                    <td>France</td>
                </tr>
                <tr>
                    <td>Emily Miller</td>
                    <td>07554323867</td>
                    <td>UK</td>
                </tr>
            </table>
<p>This table is not normalised, and there is no public key.</p>

<table>
    <p><em>TblCustomers</em></p>
    <tr>
        <th>ðŸ”‘ CustomerID</th>
        <th>FirstName</th>
        <th>LastName</th>
        <th>Phone</th>
        <th>Country</th>
    </tr>
    <tr>
        <td>1</td>
        <td>John</td> 
        <td>Smith</td>
        <td>07982658264</td>
        <td>United Kindom</td>
    </tr>
    <tr>
        <td>2</td>
        <td>Riley</td> 
        <td>Brown</td>
        <td>07473957294</td>
        <td>UK</td>
    </tr>
    <tr>
        <td>3</td>
        <td>Alex</td> 
        <td>Jones</td>
        <td>07209200985</td>
        <td>England</td>
    </tr>
    <tr>
        <td>4</td>
        <td>Isobel</td> 
        <td>Johnson</td>
        <td>07218352232</td>
        <td>France</td>
    </tr>
    <tr>
        <td>5</td>
        <td>Emily</td>
        <td>Miller</td>
        <td>07554323867</td>
        <td>UK</td>
    </tr>
</table>
<p>Each record was assigned a cusotmer ID, which is unique, which serves as the primary key. The name is now stored as seperate first and last names, meaning the data is <strong>atomic</strong>. This table is now in 1st normal form.</p>
<h3>2nd Normal Form (2nf)</h3>
<p>In second normal form, tables must:
    <ul>
        <li><strong>Already be in 1nf</strong></li>
        <li>No partial dependencies - all data must be functionally dependent on the whole primary key</li>
    </ul>
</p>
   <table>
    <p><em>TblStudentCourses</em></p>
    <tr>
        <th>ðŸ”‘ <em>StudentID</em></th>
        <th>ðŸ”‘ CourseID</th>
        <th>CourseTitle</th>
    </tr>
    <tr>
        <td>101</td>
        <td>01</td>
        <td>Mathematics</td>
    </tr>
    <tr>
        <td>102</td>
        <td>01</td>
        <td>Mathematics</td>
    </tr>
    <tr>
        <td>102</td>
        <td>02</td>
        <td>Computer Science</td>
    </tr>
    <tr>
        <td>103</td>
        <td>01</td>
        <td>Mathematics</td>
    </tr>
    <tr>
        <td>103</td>
        <td>03</td>
        <td>Sociology</td>
    </tr>
   </table>    
   <p>In this example, <em>CourseTitle</em> is only dependent on <em>CourseID</em>, and not on <em>StudentID</em>. To normalise to 2nf, the courses are moved into their own table:</p> 
   <table>
    <p><em>TblCourses</em></p>
    <tr>
        <th>ðŸ”‘ CourseID</th>
        <th>CourseTitle</th>
    </tr>
    <tr>
        <td>01</td>
        <td>Mathematics</td>
    </tr>
    <tr>
        <td>02</td>
        <td>Computer Science</td>
        
    </tr>
    <tr>
        <td>03</td>
        <td>Sociology</td>
    </tr>
   </table>
   <p>This is now in 2nf, as each field is dependent on the whole key.</p>
   <h3>3rd Normal Form (3nf)</h3>
   <p>In 3rd normal form all tables must:
    <ul>
        <li><strong>Already be in 2nd normal form</strong></li>
        <li>Not have any transitive dependencies - no non primary attributes can be dependent on other non primary attributes</li>
    </ul>
   </p>
   <table>
    <p><em>TblPatients</em></p>
    <tr>
        <th>PatientID</th>
        <th>PatientFirstName</th>
        <th>PatientLastName</th>
        <th>PatientDoctor</th>
        <th>PatientDoctorPhone</th>
    </tr>
    <tr>
        <td>1</td>
        <td>Bob</td>
        <td>Smith</td>
        <td>Dr Robotnik</td>
        <td>07827563412</td>
    </tr>
    <tr>
        <td>2</td>
        <td>Riley</td>
        <td>Brown</td>
        <td>Dr Doktor</td>
        <td>07946777243</td>
    </tr>
    <tr>
        <td>3</td>
        <td>Sally</td>
        <td>Johnson</td>
        <td>Dr Robotnik</td>
        <td>07827563412</td>
    </tr>
   </table>
   <p>In the table above, <em>PatientDoctorPhone</em> is only dependent on the doctors name, and so is moved to its own table of doctors:</p>
   <table>
    <p><em>TblDoctors</em></p>
    <tr>
        <th>DoctorID</th>
        <th>DoctorName</th>
        <th>DoctorPhone</th>
    </tr>
    <tr>
        <td>1</td>
        <td>Dr Robotnik</td>
        <td>07827563412</td>
    </tr>
    <tr>
        <td>2</td>
        <td>Dr Doktor</td>
        <td>07946777243</td>
    </tr>
   </table>

    </section>
</body>
</html>
